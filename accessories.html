<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="cart.html">Cart</a>
          </nav>
    </header>
    <main>
        <section class="search-section">
            <div class="search-header">
                Choose from all of our accessories!
            </div>
            
        </section>
        <section id="product-container" class="product-grid"></section>
    </main>

    <div class="footer">
        &copy; 2025 ByteLine Project â€“ Built by HU Students ðŸ’»
    </div>

    <script>
        async function fetchAccessories() {
            try {
                const response = await fetch('http://localhost:5004/api/accessories');
                const accessories = await response.json();

                const container = document.getElementById('product-container');

                accessories.forEach(accessory => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <img src="${accessory.image}" alt="${accessory.name}">
                    <h2>${accessory.name}</h2>
                    <p>$${parseFloat(accessory.price).toFixed(2)}</p>
                    <button onclick="viewProduct('${accessory.name}', '${accessory.image}', '${accessory.price}', '${accessory.brand}', '${accessory.description}', '${accessory.stock}', '${accessory.serial}')">View Product</button>
                `;
                container.appendChild(card);
                });
            } catch (err) {
                console.error('Failed to fetch accessories:', err);
            }
        }

        function viewProduct(name, image, price, brand, description, stock, serial) {
            const params = new URLSearchParams({
                name,
                image,
                price,
                brand,
                description,
                stock,
                serial
            });
            window.location.href = `productview.html?${params.toString()}`;
        }

        fetchAccessories();
    </script>

</body>
</html>